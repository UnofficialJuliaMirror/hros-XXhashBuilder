language: julia
os:
- linux
julia:
- 1.0
notifications:
  email: false
git:
  depth: 99999999
cache:
  timeout: 1000
  directories:
  - downloads
env:
  global:
  - BINARYBUILDER_DOWNLOADS_CACHE=downloads
  - BINARYBUILDER_AUTOMATIC_APPLE=true
sudo: required
before_script:
- julia -e 'using Pkg; pkg"add BinaryProvider"; pkg"add BinaryBuilder"; Pkg.build()'
script:
- julia build_tarballs.jl
deploy:
  provider: releases
  api_key:
      # Note; this api_key is only valid for hros/xxHashBuilder; you need
      # to make your own: https://docs.travis-ci.com/user/deployment/releases/
      secure: "T6j9sVFwUpC+a0WIwGFNvYL6CYy1L30mDIs+0o5C76DFwtc/izK+fAAxdEzWClzrUFbvu/R0eRjFqd1Ul8rBd/9GeEWmgKk+Z22IKpNxIXwcPlZU9u1dV3O395REfXkMcY6IR+1OkjG5T706RA1V9HtiC/8kZT91zOoHy3E4MQqCwu0Vic9IhpbAWgfptECK6VTOMJkyvjBXFelstvziUsVRHdR0wVeR2h6NJh7A5zxYK8z9ArY8b85VcEzphOekof1GjaDzyYm6o0HbGtEjmpicCI4RiOc/e0Zg44aNfJGrIuJOPQYM0MheKbGHqm26+c9K8M8QC0t7qQYh5TrtE0Oj0WLyCENRFpJKceQa00FQ7gbeWAzPJNfbGhEWsljMT0bYb1TQEAr4cyCtc7f7CJNhvytHAGtmsZObOXgVF3geA4fa6pLlB4AwZ6L/qBRdzn0b2QTTNbGtrMfG3SwYq3jdnH42nC3qtsihCODDyEIDYKCoNVj0npxxQm68gyPaf8wjbKcMiL4N2h7aSWNIEcVCe1zPaFsunFFn0/3qnfKXcb/wA9ea3zC0Ct8nh0vtrldCc7382zayQ9Dm0JOPpCrSzlChlVYYKDFEm2T8pZI2y/MQFFymUEF+bX+/DnXlRYZqyOG2Ir1dSbtkQXrFvcRP2Y39Z4vNvDUVN7q20UQ="

  file_glob: true
  file: products/*
  skip_cleanup: true
  on:
    repo: hros/xxHashBuilder
    tags: true
